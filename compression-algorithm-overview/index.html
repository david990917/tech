<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"tech.hanwen.cloud","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.17.1","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"default"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Common Compression Method">
<meta property="og:type" content="article">
<meta property="og:title" content="Overview of Compression Algorithms">
<meta property="og:url" content="http://tech.hanwen.cloud/compression-algorithm-overview/index.html">
<meta property="og:site_name" content="David Stark">
<meta property="og:description" content="Common Compression Method">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://tech.hanwen.cloud/a.png">
<meta property="article:published_time" content="2023-08-21T21:50:03.000Z">
<meta property="article:modified_time" content="2023-08-25T09:56:11.646Z">
<meta property="article:author" content="David Stark">
<meta property="article:tag" content="compression">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://tech.hanwen.cloud/a.png">


<link rel="canonical" href="http://tech.hanwen.cloud/compression-algorithm-overview/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://tech.hanwen.cloud/compression-algorithm-overview/","path":"compression-algorithm-overview/","title":"Overview of Compression Algorithms"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Overview of Compression Algorithms | David Stark</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">David Stark</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">瀚文</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-Overview-of-Data-Compression-Techniques"><span class="nav-text">1. Overview of Data Compression Techniques</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-Frame-of-Reference-FOR-Compression"><span class="nav-text">1.1 Frame of Reference (FOR) Compression</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-Core-Concepts"><span class="nav-text">1.1.1 Core Concepts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-2-Storage-Mechanism"><span class="nav-text">1.1.2 Storage Mechanism</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-Roaring-Bitmap-Compression"><span class="nav-text">1.2 Roaring Bitmap Compression</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-1-Core-Concepts"><span class="nav-text">1.2.1 Core Concepts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2-Storage-Mechanisms"><span class="nav-text">1.2.2 Storage Mechanisms</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-Delta-Encoding"><span class="nav-text">1.3 Delta Encoding</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-1-Core-Concepts"><span class="nav-text">1.3.1 Core Concepts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-2-Decoding-Method"><span class="nav-text">1.3.2 Decoding Method</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-Dictionary-Compression"><span class="nav-text">1.4 Dictionary Compression</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-1-Core-Concepts"><span class="nav-text">1.4.1 Core Concepts</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-1-1-Types-of-Dictionary-Compression"><span class="nav-text">1.4.1.1 Types of Dictionary Compression</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-Advanced-Compression-Algorithms"><span class="nav-text">2. Advanced Compression Algorithms</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-Overview"><span class="nav-text">2.1 Overview</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-1-Exploiting-Column-Correlations"><span class="nav-text">2.1.1 Exploiting Column Correlations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-2-Utilizing-Data-Samples"><span class="nav-text">2.1.2 Utilizing Data Samples</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-3-Conclusion"><span class="nav-text">2.1.3 Conclusion</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-gzip"><span class="nav-text">2.2 gzip</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-1-Overview"><span class="nav-text">2.2.1 Overview</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-2-LZ77-gt-Byte-Level-Compression"><span class="nav-text">2.2.2 LZ77 -&gt; Byte-Level Compression</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Preconditions"><span class="nav-text">Preconditions</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Procedure-within-Deflate-Algorithm"><span class="nav-text">Procedure within Deflate Algorithm</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-3-Huffman-Coding-gt-Compress-in-the-bits-level"><span class="nav-text">2.2.3 Huffman Coding -&gt; Compress in the bits level</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-3-1-Specialized-Architectural-Designs-in-Deflate"><span class="nav-text">2.2.3.1 Specialized Architectural Designs in Deflate</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-3-2-Implementation-Specifics-in-Deflate"><span class="nav-text">2.2.3.2 Implementation Specifics in Deflate</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-4-Run-Length-Encoding-RLE-for-Bit-Stream-Optimization"><span class="nav-text">2.2.4 Run-Length Encoding (RLE) for Bit Stream Optimization</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-4-Additional-Insights"><span class="nav-text">2.2.4 Additional Insights</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-4-1-Comparative-Analysis-of-LZ77-amp-LZ78"><span class="nav-text">2.2.4.1 Comparative Analysis of LZ77 &amp; LZ78</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-2-4-1-1-LZ78-Specifics"><span class="nav-text">2.2.4.1.1 LZ78 Specifics</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-2-4-1-2-Variants-of-LZ77"><span class="nav-text">2.2.4.1.2 Variants of LZ77</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-4-2-Fine-Grained-Elements-in-Deflate-Algorithm"><span class="nav-text">2.2.4.2 Fine-Grained Elements in Deflate Algorithm</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-5-Reference"><span class="nav-text">2.2.5 Reference</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-Zstd-Facebook-2016"><span class="nav-text">2.3 Zstd (Facebook, 2016)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-1-Overview"><span class="nav-text">2.3.1 Overview</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-1-1-Features"><span class="nav-text">2.3.1.1 Features</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-1-2-Core-Components"><span class="nav-text">2.3.1.2 Core Components</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-x-Reference"><span class="nav-text">2.3.x Reference</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-Snappy"><span class="nav-text">2.4 Snappy</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="David Stark"
      src="/images/hanwen.png">
  <p class="site-author-name" itemprop="name">David Stark</p>
  <div class="site-description" itemprop="description">瀚文的技术博客</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">27</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/david990917" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;david990917" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/liu-hanwen" title="Linkedin → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;liu-hanwen" rel="noopener me" target="_blank"><i class="fab fa-linkedin fa-fw"></i>Linkedin</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          链接
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="http://hanwen.cloud/me/" title="http:&#x2F;&#x2F;hanwen.cloud&#x2F;me&#x2F;" rel="noopener" target="_blank">Homepage</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://github.com/david990917/My-LeetCode-Solutions/" title="https:&#x2F;&#x2F;github.com&#x2F;david990917&#x2F;My-LeetCode-Solutions&#x2F;" rel="noopener" target="_blank">LeetCode 题解</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://tech.hanwen.cloud/compression-algorithm-overview/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hanwen.png">
      <meta itemprop="name" content="David Stark">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="David Stark">
      <meta itemprop="description" content="瀚文的技术博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Overview of Compression Algorithms | David Stark">
      <meta itemprop="description" content="<center>Common Compression Method<br></center>">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Overview of Compression Algorithms
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-21 23:50:03" itemprop="dateCreated datePublished" datetime="2023-08-21T23:50:03+02:00">2023-08-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-25 11:56:11" itemprop="dateModified" datetime="2023-08-25T11:56:11+02:00">2023-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Database/" itemprop="url" rel="index"><span itemprop="name">Database</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

            <div class="post-description"><center>Common Compression Method<br></center></div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="1-Overview-of-Data-Compression-Techniques"><a href="#1-Overview-of-Data-Compression-Techniques" class="headerlink" title="1. Overview of Data Compression Techniques"></a>1. Overview of Data Compression Techniques</h1><h2 id="1-1-Frame-of-Reference-FOR-Compression"><a href="#1-1-Frame-of-Reference-FOR-Compression" class="headerlink" title="1.1 Frame of Reference (FOR) Compression"></a>1.1 Frame of Reference (FOR) Compression</h2><h3 id="1-1-1-Core-Concepts"><a href="#1-1-1-Core-Concepts" class="headerlink" title="1.1.1 Core Concepts"></a>1.1.1 Core Concepts</h3><ul>
<li><strong>Data Transformation</strong>: Reduce storage space by subtracting a reference value from each number. Typically, the minimum value in the dataset serves as the reference.</li>
<li><strong>Bit Optimization</strong>: Store only the transformed values, utilizing just the number of bits needed for the largest transformed value.</li>
</ul>
<h3 id="1-1-2-Storage-Mechanism"><a href="#1-1-2-Storage-Mechanism" class="headerlink" title="1.1.2 Storage Mechanism"></a>1.1.2 Storage Mechanism</h3><ul>
<li><strong>Box Division</strong>: Sort the data into distinct storage boxes according to their group.</li>
<li><strong>Bit Requirements</strong>: To store these boxes, 56 bits are needed (8 bits base + 48 bits for six additional 8-bit blocks).</li>
</ul>
<h2 id="1-2-Roaring-Bitmap-Compression"><a href="#1-2-Roaring-Bitmap-Compression" class="headerlink" title="1.2 Roaring Bitmap Compression"></a>1.2 Roaring Bitmap Compression</h2><h3 id="1-2-1-Core-Concepts"><a href="#1-2-1-Core-Concepts" class="headerlink" title="1.2.1 Core Concepts"></a>1.2.1 Core Concepts</h3><ul>
<li><strong>Division Strategy</strong>: Divide each integer by 16 to create a pair. The first element of the pair undergoes further division.</li>
</ul>
<h3 id="1-2-2-Storage-Mechanisms"><a href="#1-2-2-Storage-Mechanisms" class="headerlink" title="1.2.2 Storage Mechanisms"></a>1.2.2 Storage Mechanisms</h3><ul>
<li><strong>Array Container</strong>: Employs an array structure for data storage.</li>
<li><strong>Bitmap Container</strong>:<ul>
<li>Occupies a stable 8KB space.</li>
<li>Retains the numerical values but not necessarily their original sequence.</li>
</ul>
</li>
</ul>
<h2 id="1-3-Delta-Encoding"><a href="#1-3-Delta-Encoding" class="headerlink" title="1.3 Delta Encoding"></a>1.3 Delta Encoding</h2><h3 id="1-3-1-Core-Concepts"><a href="#1-3-1-Core-Concepts" class="headerlink" title="1.3.1 Core Concepts"></a>1.3.1 Core Concepts</h3><ul>
<li><strong>Delta Calculation</strong>: Suitable for storing differences between timestamps. The delta can be calculated as either (T(n) - T(n-1)) or (T(n) - T(0)).</li>
<li><strong>Delta of Delta</strong>: Ideal for closely-spaced time-series data.</li>
</ul>
<h3 id="1-3-2-Decoding-Method"><a href="#1-3-2-Decoding-Method" class="headerlink" title="1.3.2 Decoding Method"></a>1.3.2 Decoding Method</h3><ul>
<li>Always begin decoding from the start of the data sequence.</li>
</ul>
<h2 id="1-4-Dictionary-Compression"><a href="#1-4-Dictionary-Compression" class="headerlink" title="1.4 Dictionary Compression"></a>1.4 Dictionary Compression</h2><h3 id="1-4-1-Core-Concepts"><a href="#1-4-1-Core-Concepts" class="headerlink" title="1.4.1 Core Concepts"></a>1.4.1 Core Concepts</h3><ul>
<li><strong>Dictionary Mapping</strong>: Transform original data into shorter codes via a pre-defined dictionary.</li>
</ul>
<h4 id="1-4-1-1-Types-of-Dictionary-Compression"><a href="#1-4-1-1-Types-of-Dictionary-Compression" class="headerlink" title="1.4.1.1 Types of Dictionary Compression"></a>1.4.1.1 Types of Dictionary Compression</h4><ul>
<li><strong>Static Dictionary Compression</strong>: The dictionary remains fixed.</li>
<li><strong>Dynamic Dictionary Compression</strong>: The dictionary evolves based on the incoming data, such as in LZ77 and LZ78 algorithms.</li>
</ul>
<hr>
<h1 id="2-Advanced-Compression-Algorithms"><a href="#2-Advanced-Compression-Algorithms" class="headerlink" title="2. Advanced Compression Algorithms"></a>2. Advanced Compression Algorithms</h1><h2 id="2-1-Overview"><a href="#2-1-Overview" class="headerlink" title="2.1 Overview"></a>2.1 Overview</h2><h3 id="2-1-1-Exploiting-Column-Correlations"><a href="#2-1-1-Exploiting-Column-Correlations" class="headerlink" title="2.1.1 Exploiting Column Correlations"></a>2.1.1 Exploiting Column Correlations</h3><ul>
<li><strong>gzip (LZ77 + Huffman)</strong>: Focuses on a single data stream and is not designed to leverage or identify correlations between columns (or features).</li>
<li><strong>zstd (LZ77 + Entropy Coding)</strong>: Also mainly compresses single data streams. It lacks a direct mechanism for exploiting correlations between columns.</li>
</ul>
<h3 id="2-1-2-Utilizing-Data-Samples"><a href="#2-1-2-Utilizing-Data-Samples" class="headerlink" title="2.1.2 Utilizing Data Samples"></a>2.1.2 Utilizing Data Samples</h3><ul>
<li><strong>gzip</strong>: Does not use pre-existing data samples to improve the compression ratio. As a stream-based compression algorithm, it treats each data block as independent, not benefiting from external samples.</li>
<li><strong>zstd</strong>: Supports dictionary-based compression, which can be considered a form of using “data samples.” The dictionary is generated from a set of sample data and can be used to compress and decompress similar data blocks, thereby improving compression performance. This is particularly effective for small files or data with repetitive patterns.</li>
</ul>
<h3 id="2-1-3-Conclusion"><a href="#2-1-3-Conclusion" class="headerlink" title="2.1.3 Conclusion"></a>2.1.3 Conclusion</h3><ul>
<li>Primarily designed for one-dimensional data streams.</li>
<li>While gzip does not use data samples, zstd indirectly uses sample data through dictionary compression.</li>
</ul>
<h2 id="2-2-gzip"><a href="#2-2-gzip" class="headerlink" title="2.2 gzip"></a>2.2 gzip</h2><p>gzip operates as an implementation of the Deflate Algorithm.</p>
<h3 id="2-2-1-Overview"><a href="#2-2-1-Overview" class="headerlink" title="2.2.1 Overview"></a>2.2.1 Overview</h3><p>The symbiotic integration between LZ77 and Huffman coding yields superior compression efficacy in comparison to employing LZW in isolation.</p>
<h3 id="2-2-2-LZ77-gt-Byte-Level-Compression"><a href="#2-2-2-LZ77-gt-Byte-Level-Compression" class="headerlink" title="2.2.2 LZ77 -&gt; Byte-Level Compression"></a>2.2.2 LZ77 -&gt; Byte-Level Compression</h3><p>LZ77 utilizes a sliding-window algorithm, scanning the data string from its inception with a window of fixed length trailing it. Upon identifying the longest matching substring between the scanning point and the window, a distance-length tag substitutes the substring. A flag byte precedes this tag to expedite the decompression process.</p>
<h4 id="Preconditions"><a href="#Preconditions" class="headerlink" title="Preconditions"></a>Preconditions</h4><ul>
<li>A minimum sequence of three contiguous characters is requisite for matching.</li>
</ul>
<h4 id="Procedure-within-Deflate-Algorithm"><a href="#Procedure-within-Deflate-Algorithm" class="headerlink" title="Procedure within Deflate Algorithm"></a>Procedure within Deflate Algorithm</h4><ol>
<li><p><strong>Hashtable Construction with Chaining</strong></p>
<ol>
<li><p><code>ins_h</code>: Calculated hash value</p>
</li>
<li><p><code>head[ins_h]</code>: Records the string’s occurrence location, specifically the nth byte in the window.</p>
</li>
<li><p>For duplicate occurrences, a linked relationship is created via the <code>prev</code> array:</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">prev[strstart] = head[ins_h];</span><br><span class="line">head[ins_h] = strstart;</span><br></pre></td></tr></table></figure>

<ol>
<li>prev[x]: Serves both as the location of the matching string and as an index to locate the previous match.</li>
<li>Ambiguity Mitigation in Window String Matching<ol>
<li>head[x], prev[x], 0: Denote nullity.</li>
<li>window 0 is not eligible for matching.</li>
</ol>
</li>
<li>Array Boundary Precautions: <code>prev[strstart &amp; WMASK]·</code></li>
</ol>
</li>
</ol>
</li>
<li><p><strong>Hashtable Search with First 3-Character Segment</strong></p>
<ul>
<li>Identical <code>ins_h</code> denotes matching and consequently reveals the distance.</li>
<li>Matching attempts are divided into:<ol>
<li><code>lazy_match</code>: Employs varied strings to find the longest match</li>
<li><code>longest_match</code>: Obtains the longest match for a specific string</li>
<li>Process Flow<ol>
<li>Initially, <code>longest_match</code> provides the current match position and length -&gt; <code>(prev_length, prev_match)</code>.</li>
<li>After shifting one character, a second match is attempted -&gt; if <code>prev_length</code> is greater, it is selected.</li>
<li>If no greater match is found, substitution takes place, but all unprocessed strings are simultaneously inserted into the dictionary.</li>
</ol>
</li>
</ol>
</li>
</ul>
</li>
<li><p><strong>Constraints and Limitations</strong></p>
<ul>
<li><code>max_chain_length</code>: Limit on the maximum number of chain nodes to prevent indefinite looping.</li>
<li><code>MAX_MATCH 258</code>: Maximum match length constraint</li>
<li><code>MAX_DIST</code>: Maximum match distance constraint</li>
</ul>
</li>
<li><p><strong>Data Structures</strong></p>
<ol>
<li>unsigned  short   d_buf[32768]; -&gt; distance</li>
<li>unsigned  char    l_buf[32768]; -&gt; literal &amp; length 32768</li>
<li>unsigned  char   flag_buf[32768&#x2F;8]; -&gt; 8bits * (32768&#x2F;8) -&gt; 32768 bits</li>
<li>unsigned  last_lit, last_dist; -&gt; index</li>
</ol>
</li>
<li><p><strong>Hash Function Update Mechanism</strong></p>
 <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> UPDATE_HASH(h,c) (h = (((h) &lt;&lt; H_SHIFT) ^ (c)) &amp; HASH_MASK)</span></span><br></pre></td></tr></table></figure>

<ul>
<li>The existing hash value can be reused and updated with the new character.</li>
</ul>
</li>
</ol>
<h3 id="2-2-3-Huffman-Coding-gt-Compress-in-the-bits-level"><a href="#2-2-3-Huffman-Coding-gt-Compress-in-the-bits-level" class="headerlink" title="2.2.3 Huffman Coding -&gt; Compress in the bits level"></a>2.2.3 Huffman Coding -&gt; Compress in the bits level</h3><p>Huffman Coding is a Lossless Compression Technique.</p>
<ul>
<li><strong>Dynamic</strong>: Requires additional space to store the Huffman Tree.</li>
<li><strong>Static</strong>: Utilizes a default Huffman Tree, thereby eliminating the need for extra storage space.<ul>
<li>Block header, directly combined bits stream</li>
</ul>
</li>
</ul>
<h4 id="2-2-3-1-Specialized-Architectural-Designs-in-Deflate"><a href="#2-2-3-1-Specialized-Architectural-Designs-in-Deflate" class="headerlink" title="2.2.3.1 Specialized Architectural Designs in Deflate"></a>2.2.3.1 Specialized Architectural Designs in Deflate</h4><ul>
<li>In scenarios involving small-sized data, the Huffman tree is reconstructed for efficient encoding.</li>
<li><strong>Characteristics of Levels</strong>:<ul>
<li>Nodes at the same level are contiguous, with the right node being one increment larger than the left.</li>
</ul>
</li>
<li><strong>Inter-level Relationships</strong>:<ul>
<li>The leftmost leaf node at level (n+1) is equal to the rightmost leaf node at level (n) incremented by 1.</li>
<li>A node (n) has the following child nodes:<ul>
<li>Left child: (2n)</li>
<li>Right child: (2n+1)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>This approach facilitates block-wise output and further Huffman compression. Each block maintains its unique structural attributes. The Huffman tree utilized for compression is non-balanced, with the right side consistently deeper than the left. A Canonical Huffman Tree is not imperative; the leaf node depth alone suffices to construct the tree. In practice, only codeword lengths are transmitted.</p>
<h4 id="2-2-3-2-Implementation-Specifics-in-Deflate"><a href="#2-2-3-2-Implementation-Specifics-in-Deflate" class="headerlink" title="2.2.3.2 Implementation Specifics in Deflate"></a>2.2.3.2 Implementation Specifics in Deflate</h4><ul>
<li><strong>Data Components</strong>:<ul>
<li>Literals, lengths, and distances are already ascertained.</li>
</ul>
</li>
<li><strong>Distance Tree</strong>:<ul>
<li><strong>Data Structure</strong>:<ul>
<li>Codes in the range [0,29] are uniquely Huffman-encoded.</li>
<li>Extra bits demarcate data ranges.</li>
</ul>
</li>
<li><strong>Notable Aspects</strong>:</li>
<li>Building the huffmann tree, don’t need to build Canonical Huffman Tree, because the depth&#x2F;code length is same.</li>
<li>Decompressing, still don’t need to build the Canonical Huffman Tree, bacause can directly deduct it.</li>
</ul>
</li>
<li><strong>Literal&#x2F;Length Tree</strong>:<ul>
<li><strong>Range Specifics</strong>:<ul>
<li>Both literals and lengths comprise 256 distinct values.</li>
<li>Literals are mapped in the range [0,256].</li>
<li>Lengths are confined to interval codes [257, 285].</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-2-4-Run-Length-Encoding-RLE-for-Bit-Stream-Optimization"><a href="#2-2-4-Run-Length-Encoding-RLE-for-Bit-Stream-Optimization" class="headerlink" title="2.2.4 Run-Length Encoding (RLE) for Bit Stream Optimization"></a>2.2.4 Run-Length Encoding (RLE) for Bit Stream Optimization</h3><ul>
<li><strong>Coding Schema</strong>:<ul>
<li>‘16’: Denotes ‘*’, followed by a 2-bit value representing repetition.<ul>
<li>‘00’ implies a repetition 3 times, totaling 4 instances.</li>
</ul>
</li>
<li>‘17’: Primarily targets ‘0’s and is followed by a 3-bit value.<ul>
<li>[000,111] signifies ‘0’ appearing continuously between 3 and 10 times.</li>
</ul>
</li>
<li>‘18’: Similar to ‘17’, but followed by a 7-bit value.<ul>
<li>[0000000, 1111111] indicates ‘0’ appearing continuously between 11 and 138 times.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-2-4-Additional-Insights"><a href="#2-2-4-Additional-Insights" class="headerlink" title="2.2.4 Additional Insights"></a>2.2.4 Additional Insights</h3><h4 id="2-2-4-1-Comparative-Analysis-of-LZ77-amp-LZ78"><a href="#2-2-4-1-Comparative-Analysis-of-LZ77-amp-LZ78" class="headerlink" title="2.2.4.1 Comparative Analysis of LZ77 &amp; LZ78"></a>2.2.4.1 Comparative Analysis of LZ77 &amp; LZ78</h4><ul>
<li><p><strong>Storage Mechanism</strong>:</p>
<ul>
<li>LZ77 employs a sliding-window technique, whereas LZ78 utilizes a dynamic dictionary.</li>
</ul>
</li>
<li><p><strong>Compression Notation</strong>:</p>
<ul>
<li>LZ77 adopts (offset, length) pairs, while LZ78 uses (dictionary index, character) pairs.</li>
</ul>
</li>
<li><p><strong>Real-time Efficacy</strong>:</p>
<ul>
<li>LZ77 is optimized for real-time stream compression, whereas LZ78, due to the necessity for dynamic dictionary maintenance, is more aligned with non-real-time applications.</li>
</ul>
</li>
</ul>
<h5 id="2-2-4-1-1-LZ78-Specifics"><a href="#2-2-4-1-1-LZ78-Specifics" class="headerlink" title="2.2.4.1.1 LZ78 Specifics"></a>2.2.4.1.1 LZ78 Specifics</h5><ul>
<li><p><strong>Dictionary</strong>: Unlike LZ77’s sliding window, LZ78 uses a dynamically generated dictionary to save previously encountered strings. This dictionary is continually updated during the compression process.</p>
</li>
<li><p><strong>Compression Notation</strong>: When a new string (or string sequence) is found, the algorithm looks for the longest matching prefix in the dictionary and outputs the dictionary index associated with that prefix, followed by the next character of the string. For entirely new strings, a special dictionary index (usually zero) and the string itself are typically output.</p>
</li>
<li><p><strong>Non-Real-Time</strong>: Because LZ78 needs to maintain a growing dictionary, it is generally not suitable for real-time stream compression but is more appropriate for file compression.</p>
</li>
</ul>
<h5 id="2-2-4-1-2-Variants-of-LZ77"><a href="#2-2-4-1-2-Variants-of-LZ77" class="headerlink" title="2.2.4.1.2 Variants of LZ77"></a>2.2.4.1.2 Variants of LZ77</h5><ul>
<li>A specialized variant uses (a, b) notation, eliminate storing the third character.</li>
</ul>
<h4 id="2-2-4-2-Fine-Grained-Elements-in-Deflate-Algorithm"><a href="#2-2-4-2-Fine-Grained-Elements-in-Deflate-Algorithm" class="headerlink" title="2.2.4.2 Fine-Grained Elements in Deflate Algorithm"></a>2.2.4.2 Fine-Grained Elements in Deflate Algorithm</h4><ul>
<li><p><strong>Block Headers</strong>:</p>
<ul>
<li>Employed as bit streams.</li>
</ul>
</li>
<li><p><strong>Data Storage</strong>:</p>
<ul>
<li>Utilized as byte streams.</li>
</ul>
</li>
</ul>
<h3 id="2-2-5-Reference"><a href="#2-2-5-Reference" class="headerlink" title="2.2.5 Reference"></a>2.2.5 Reference</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.zlib.net/feldspar.html">🌟 An Explanation of the Deflate Algorithm</a></li>
<li><a target="_blank" rel="noopener" href="https://www.gnu.org/software/gzip/manual/gzip.pdf">Gzip Document</a>: Primarily instructional content about the tool.</li>
<li><a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc1952">RFC1952</a></li>
<li><a target="_blank" rel="noopener" href="https://cs.stanford.edu/people/eroberts/courses/soco/projects/2000-01/data-compression/lossless/lz77/algorithm.htm">Stanford LZ77</a></li>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-wusp/fb98aa28-5cd7-407f-8869-a6cef1ff1ccb">Microsoft LZ77</a></li>
</ul>
<p><img data-src="/a.png" alt="Performance Comparison"></p>
<h2 id="2-3-Zstd-Facebook-2016"><a href="#2-3-Zstd-Facebook-2016" class="headerlink" title="2.3 Zstd (Facebook, 2016)"></a>2.3 Zstd (Facebook, 2016)</h2><p>Efficiency: Switching from gzip to Zstd resulted in a 30% reduction in storage on Amazon S3.</p>
<p>Evaluation Standards:</p>
<ul>
<li>Compression rate</li>
<li>Compression speed</li>
<li>Decompression speed</li>
</ul>
<h3 id="2-3-1-Overview"><a href="#2-3-1-Overview" class="headerlink" title="2.3.1 Overview"></a>2.3.1 Overview</h3><h4 id="2-3-1-1-Features"><a href="#2-3-1-1-Features" class="headerlink" title="2.3.1.1 Features"></a>2.3.1.1 Features</h4><ol>
<li><p>高压缩比与速度：Zstd 旨在提供接近于最先进压缩算法的压缩比，同时还具有高度的压缩和解压速度。</p>
</li>
<li><p>灵活性与可调性：Zstd 提供了多级压缩设置，允许用户在压缩比和速度之间做出权衡。</p>
</li>
<li><p>强大的字典支持：对于重复数据或小文件，Zstd 的字典压缩功能非常有用。训练 Zstandard 是通过提供一些样本（每个样本一个文件）来实现的，训练的结果存储在称为“字典”的文件中，该文件必须在压缩和解压缩之前加载。使用此字典，可以在小数据上实现的压缩率大大提高。</p>
</li>
<li><p>性能设计</p>
<ol>
<li>内存：Zstandard 可以使用从几百 KB 到数 TB 不等的内存。</li>
<li>并行执行：Zstandard 通过减少数据依赖性来利用现代 CPU 的并行执行能力。</li>
<li>无分支设计：避免 CPU 流水线清空，提高执行速度。</li>
</ol>
</li>
</ol>
<h3 id="2-3-1-2-Core-Components"><a href="#2-3-1-2-Core-Components" class="headerlink" title="2.3.1.2 Core Components"></a>2.3.1.2 Core Components</h3><ol>
<li>Finite State Entropy 来优化算法压缩：压缩效率高，解压速度快</li>
<li></li>
</ol>
<h3 id="2-3-x-Reference"><a href="#2-3-x-Reference" class="headerlink" title="2.3.x Reference"></a>2.3.x Reference</h3><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/facebook/zstd">Github Zstd</a></li>
<li>[Facebook ]</li>
</ul>
<h2 id="2-4-Snappy"><a href="#2-4-Snappy" class="headerlink" title="2.4 Snappy"></a>2.4 Snappy</h2>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/compression/" rel="tag"># compression</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/bitmap-index-compression/" rel="prev" title="Bitmap Index Compression">
                  <i class="fa fa-chevron-left"></i> Bitmap Index Compression
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/parquet-learning/" rel="next" title="Parquet Learning">
                  Parquet Learning <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2017 – 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">David Stark</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/david990917" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.12/pdfobject.min.js","integrity":"sha256-g2xji1rlE3KsGVClvuxTbcR0Kn2+wtQADSff2Tbb4zA="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>



  <script src="/js/third-party/fancybox.js"></script>



  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
